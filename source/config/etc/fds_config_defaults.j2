################################################################################
### !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ###
### !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ###
###         WARNING WARNING WARNING WARNING WARNING WARNING WARNING          ###
###   This is automatically generated by Ansible - DO NOT make manual edits  ###
###              to this file, as they will be overwritten!                  ###
### !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ###
### !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ###
################################################################################
{#

   Do NOT leave blank lines in this file except inside comment blocks like this one

#}
{#
   fds. specific entries
#}
{% set fds_root = fds_default_root if fds_default_root is defined else '/fds' %}
{% set default_nic = fds_default_nic if fds_default_nic is defined else 'eth0' %}
{% set authentication = fds_authentication if fds_authentication is defined else 'true' %}
{#
   Shared across several sections
#}
{% set om_host = fds_om_host if fds_om_host is defined else '127.0.0.1' %}
{% set om_ip = fds_om_host if fds_om_host is defined else '127.0.0.1' %}
{% set this_node_runs_om = 'true' if this_node_runs_om is defined else 'false' %}
{% set perf_tracing = fds_perf_tracing if fds_perf_tracing is defined else 'true' %}
{% set metrics_enabled = fds_metrics_enabled if fds_metrics_enabled is defined else 'false' %}
{% set metricsdb_ip = fds_metricsdb_ip if fds_metricsdb_ip is defined else '127.0.0.1' %}
{#
   Redis Deployment defaults
    fds.pm.redis_host == om_ip above
#}
{% set redis_port = fds_redis_port if fds_redis_port is defined else '6379' %}
{#
   fds.pm. specific entries
#}
{% set pm_log_severity = fds_log_severity if fds_log_severity is defined else 'trace' %}
{% set svc_plat_lftp_enable = fds_svc_plat_lftp_enable if fds_svc_plat_lftp_enable is defined else 'false' %}
{% set svc_plat_thrift_message_timeout = fds_svc_plat_timeout_thrift_message if fds_svc_plat_timeout_thrift_message is defined else '5000' %}
{% set force_disk_simulation = fds_force_disk_simulation if fds_force_disk_simulation is defined else 'false' %}
{% set use_new_superblock = fds_use_new_superblock if ft_platform_use_new_superblock is defined else 'false' %}
{#
   fds.dm. specific entries
#}
{% set dm_log_severity = fds_log_severity if fds_log_severity is defined else 'trace' %}
{% set dm_catalog_cache_size = fds_dm_catalog_cache_size if fds_dm_catalog_cache_size is defined else '16777216' %}
{% set dm_catalog_write_buffer_size = fds_dm_catalog_write_buffer_size if fds_dm_catalog_write_buffer_size is defined else '52428800' %}
{% set dm_req_serialization = fds_dm_req_serialization if fds_dm_req_serialization is defined else 'true' %}
{% set dm_enable_expunge = fds_dm_enable_expunge if fds_dm_enable_expunge is defined else 'false' %}
{% set dm_enable_timeline = fds_dm_enable_timeline if fds_dm_enable_timeline is defined else 'true' %}
{% set dm_enable_migration = fds_dm_enable_migration if fds_dm_enable_migration is defined else 'true' %}
{% set dm_enable_resync = fds_dm_enable_resync if fds_dm_enable_resync is defined else 'false' %}
{% set dm_migration_timeout = fds_dm_migration_timeout if fds_dm_migration_timeout is defined else '300' %}
{% set dm_migration_max_concurrency = fds_dm_migration_max_concurrency if fds_dm_migration_max_concurrency is defined else '1' %}
{% set dm_migration_max_delta_blobs = fds_dm_migration_max_delta_blobs if fds_dm_migration_delta_blobs is defined else '4096' %}
{% set dm_migration_max_delta_blobs_to = fds_dm_migration_max_delta_blobs_to if fds_dm_migration_delta_blobs_to is defined else '300000' %}
{% set dm_migration_max_delta_blob_desc = fds_dm_migration_max_delta_desc if fds_dm_migration_delta_desc is defined else '4096' %}
{#
   fds.sm. specific entries
#}
{% set sm_log_severity = fds_log_severity if fds_log_severity is defined else 'trace' %}
{% set sm_data_verify = fds_sm_data_verify if fds_sm_data_verify is defined else 'true' %}
{% set sm_data_verify_background = fds_sm_data_verify_background if fds_sm_data_verify_background is defined else 'true' %}
{% set sm_sync_meta_write = fds_sm_sync_meta_write if fds_sm_sync_meta_write is defined else 'false' %}
{% set sm_cache_default_data_entries = fds_sm_cache_default_data_entries if fds_sm_cache_default_data_entries is defined else '0' %}
{% set sm_tiering_hybrid_batchsz = fds_sm_tiering_hybrid_batchsz if fds_sm_tiering_hybrid_batchsz is defined else '1024' %}
{% set sm_tiering_hybrid_frequency = fds_sm_tiering_hybrid_frequency if fds_sm_tiering_hybrid_frequency is defined else '604800' %}
{% set sm_tiering_hybrid_enable = fds_sm_tiering_hybrid_enable if fds_sm_tiering_hybrid_enable is defined else 'true' %}
{% set sm_scavenger_max_disks_compact = sm_scavenger_max_disks_compact if sm_scavenger_max_disks_compact is defined else '2' %}
{% set sm_scavenger_interval_seconds = sm_scavenger_interval_seconds if sm_scavenger_interval_seconds is defined else '7200' %}
{% set sm_req_serialization = fds_sm_req_serialization if fds_sm_req_serialization is defined else 'false' %}
{#
   fds.am. specific entries
#}
{% set am_svc_io_message_timeout = fds_am_svc_io_message_timeout if fds_am_svc_io_message_timeout is defined else '25000' %}
{% set am_log_severity = fds_log_severity if fds_log_severity is defined else 'trace' %}
{% set am_cache_max_volume_data = fds_am_cache_max_volume_data if fds_am_cache_max_volume_data is defined else '400' %}
{% set am_cache_max_metadata_entries = fds_am_cache_max_metadata_entries if fds_am_cache_max_metadata_entries is defined else '200' %}
{% set am_testing_toggleDisableStreamingStats = fds_am_testing_toggleDisableStreamingStats if fds_am_testing_toggleDisableStreamingStats is defined else 'false' %}
{% set am_req_serialization = fds_am_req_serialization if fds_am_req_serialization is defined else 'volume' %}
{% set am_safe_atomic_write = fds_am_safe_atomic_write if fds_am_safe_atomic_write is defined else 'true' %}
{% set am_nbd_server_threads = fds_am_nbd_server_threads if fds_am_nbd_server_threads is defined else '1' %}
{% set am_scst_auto_volumes = fds_am_scst_auto_volumes if fds_am_scst_auto_volumes is defined else '' %}
{% set am_scst_target_prefix = fds_am_scst_target_prefix if fds_am_scst_target_prefix is defined else 'iqn.2012-05.com.formationds:' %}
{% set am_scst_target_threads = fds_am_scst_target_threads if fds_am_scst_target_threads is defined else '1' %}
{% set am_scst_default_block_size = fds_am_scst_default_block_size if fds_am_scst_default_block_size is defined else '512' %}
{#
   fds.om. specific entries
#}
{% set om_log_severity = fds_log_severity if fds_log_severity is defined else 'trace' %}
{% set om_influxdb_url = fds_om_influxdb_url if fds_om_influxdb_url is defined else 'http://' + om_ip + ':8086' %}
{% set snmp_targetip = fds_snmp_targetip if fds_snmp_targetip is defined else 'localhost' %}
{% set snmp_community = fds_snmp_community if fds_snmp_community is defined else 'public' %}
{% set rest_07_feature = ft_fds_rest_07_feature if ft_fds_rest_07_feature is defined else 'false' %}
{#
   fds.xdi. specific entries
#}
{% set am_host = am_host if am_host is defined else 'localhost' %}
{% set nfs_thread_pool_size = nfs_thread_pool_size if nfs_thread_pool_size is defined else 64 %}
{% set nfs_thread_pool_queue_size = nfs_thread_pool_queue_size if nfs_thread_pool_queue_size is defined else 2000 %}
{% set nfs_incoming_request_timeout_seconds = nfs_incoming_request_timeout_seconds if nfs_incoming_request_timeout_seconds is defined else 600 %}
{% set nfs_defer_metadata_updates = nfs_defer_metadata_updates if nfs_defer_metadata_updates is defined else 'true' %}
{% set nfs_max_live_nfs_cookies = nfs_max_live_nfs_cookies if nfs_max_live_nfs_cookies is defined else 1000000 %}

{#
   fds.checker. specific entries
#}
{% set checker_log_severity = fds_log_severity if fds_log_severity is defined else 'trace' %}
{#
   Ansible specific entries
#}
{% set ssh_user = fds_ssh_user if fds_ssh_user is defined else 'root' %}
{% set ssh_password = fds_ssh_password if fds_ssh_password is defined else 'passwd' %}
{#
   fds.feature_toggle specific entries

   These settings configure feature toggles (for c++/java code)

   In the inventory files they all begin fds_ft_ for fds_feature_toggle_.  Internally, we strip off the fds_.
#}
{% set ft_common_enable_multi_om_support          = fds_ft_common_enable_multi_om_support          if fds_ft_common_enable_multi_om_support          is defined else 'false' %}
{% set ft_common_enable_volume_open_support       = fds_ft_common_enable_volume_open_support       if fds_ft_common_enable_volume_open_support       is defined else 'true'  %}
{% set ft_periodic_expunge                        = fds_ft_periodic_expunge                        if fds_ft_periodic_expunge                        is defined else 'false' %}
{% set all_ssd_support                            = all_ssd_support                                if all_ssd_support                                is defined else 'false' %}
{% set ft_am_nbd_enabled                          = fds_ft_am_nbd_enabled                          if fds_ft_am_nbd_enabled                          is defined else 'true'  %}
{% set ft_am_scst_enabled                         = fds_ft_am_scst_enabled                         if fds_ft_am_scst_enabled                         is defined else 'false' %}
{% set ft_platform_use_disk_hints                 = fds_ft_platform_use_disk_hints                 if fds_ft_platform_use_disk_hints                 is defined else 'false' %}
{% set ft_platform_control_disk_simulation_mode   = fds_ft_platform_control_disk_simulation_mode   if fds_ft_platform_control_disk_simulation_mode   is defined else 'false' %}
{% set ft_platform_use_new_superblock             = fds_ft_platform_use_new_superblock             if fds_ft_platform_use_new_superblock             is defined else 'false' %}
{% set ft_restart_failed_children_processes       = fds_ft_restart_failed_children_processes       if fds_ft_restart_failed_children_processes       is defined else 'true'  %}
{% set ft_enable_disk_activation                  = fds_ft_enable_disk_activation                  if fds_ft_enable_disk_activation                  is defined else 'false' %}
{% set ft_allow_service_reregistration            = fds_ft_allow_service_reregistration            if fds_ft_allow_service_reregistration            is defined else 'true'  %}
{% set ft_fds_rest_07_feature                     = fds_ft_rest_07_feature                         if fds_ft_rest_07_feature                         is defined else 'true'  %}
{% set ft_fs_2660_metric_firebreak_event_query    = fds_ft_fs_2660_metric_firebreak_event_query    if fds_ft_fs_2660_metric_firebreak_event_query    is defined else 'false' %}
{% set ft_enable_java_om_svc_proxy               = fds_ft_enable_java_om_svc_proxy               if fds_ft_enable_java_om_svc_proxy               is defined else 'false' %}
{#
    Java Options -- not stored in platform.conf, but rather in formation_env and ultimately in environment variables
    The Logging and service name configuration in the defaults are important.  Without it, the logging may not be configured properly.
    -XX:ErrorFile=/corefiles/*_hs_err_pid%p..log specifies the JVM crash report file location.
#}
{% set common_java_opts = fds_common_java_opts if fds_common_java_opts is defined else '-Dlog4j.configurationFile=${fds_root}/etc/log4j2.xml -XX:ErrorFile=/corefiles/hs_err_pid-%p.log' %}
{% set om_java_opts = fds_om_java_opts if fds_om_java_opts is defined else '-Xmx2048M' %}
{% set xdi_java_opts = fds_xdi_java_opts if fds_xdi_java_opts is defined else '' %}
{% set java_log_severity = 'INFO' if fds_log_severity is not defined
       			   	   else 'TRACE' if fds_log_severity == 'trace'
       			   	   else 'DEBUG' if fds_log_severity == 'debug'
       			   	   else 'DEBUG' if fds_log_severity == 'io'
       			   	   else 'INFO' if fds_log_severity == 'normal'
       			   	   else 'INFO' if fds_log_severity == 'notification'
       			   	   else 'WARN' if fds_log_severity == 'warning'
       			   	   else 'ERROR' if fds_log_severity == 'error'
       			   	   else 'FATAL' if fds_log_severity == 'critical'
				   else 'INFO'
%}
{#
#}
{% block content %}{% endblock %}
