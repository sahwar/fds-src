#!/bin/bash

args=$*

JAVA_OPTS="-Xmx1024M -Xms20M"

FDS_ROOT=/fds
FDS_OM_HOST=localhost

for i in "$@"
do
  key="$1"

  case $i in
    --fds-root=*)
    FDS_ROOT="${i#*=}"
    shift # past argument
    ;;
    *)
    # unknown option
    ;;
  esac
  shift # past argument or value
done

CLASSPATH=$FDS_ROOT/lib/java/*
CLASSPATH=$CLASSPATH:$FDS_ROOT/etc/
CLASSPATH=$CLASSPATH:$FDS_ROOT/etc/ssl
CLASSPATH=$CLASSPATH:$FDS_ROOT/etc/ssl/dev

echo "FDS_ROOT  = $FDS_ROOT"
echo "CLASSPATH = $CLASSPATH"

java $JAVA_OPTS -classpath $CLASSPATH com.formationds.om.Main $args
