<div class="dialog-page" ng-controller="addNodeController">
    
    <div class="header" style="height: 52px;">
        <span translate class="create-volume-create-title">system.l_nodes</span>
        <div class="pull-right flex">
            <button class="btn btn-primary skinny" style="display: inline-block;margin-right: 8px;" ng-click="addNodes()">
                <span translate>system.l_add_node</span>
            </button>
            <button class="btn btn-secondary cancel-creation skinny" style="display: inline-block;" ng-click="cancel()" translate>common.l_cancel</button>
        </div>
    </div>

    <table class="default clickable">
        <thead>
            <th tool-tip text="{{ 'system.tt_node_name' | translate }}">
                <div translate>
                    system.th_node_name
                </div>
            </th>
            <th tool-tip text="{{ 'system.tt_am' | translate }}">
                <div translate>system.th_am</div>
            </th>
            <th tool-tip text="{{ 'system.tt_om' | translate }}">
                <div translate>system.th_om</div>
            </th>
            <th tool-tip text="{{ 'system.tt_pm' | translate }}">
                <div translate>system.th_pm</div>
            </th>
            <th tool-tip text="{{ 'system.tt_sm' | translate }}">
                <div translate>system.th_sm</div>
            </th>
            <th tool-tip text="{{ 'system.tt_dm' | translate }}">
                <div translate>system.th_dm</div>
            </th>
        </thead>
        <tbody>
            <tr class="no-border" ng-repeat="detachedNode in detachedNodes">
                <td width="32">
                    <div class="flex">
                        <tri-state-check check-state="detachedNode.addAll" ng-click="parentStateChanged( detachedNode )"></tri-state-checkbox>
                        {{ detachedNode.node_name }}
                    </div>
                </td>
                <td>
                    <switch ng-model="detachedNode.am" on-text="{{ onText }}" off-text="{{ offTest }}"></switch>
                </td>
                <td>
                    <switch ng-model="detachedNode.om" on-text="{{ onText }}" off-text="{{ offTest }}"></switch>
                </td>
                <td>
                    <switch ng-model="detachedNode.pm" on-text="{{ onText }}" off-text="{{ offTest }}"></switch>
                </td>
                <td>
                    <switch ng-model="detachedNode.sm" on-text="{{ onText }}" off-text="{{ offTest }}"></switch>
                </td>
                <td>
                    <switch ng-model="detachedNode.dm" on-text="{{ onText }}" off-text="{{ offTest }}"></switch>
                </td>
            </tr>
            <tr class="disabled" ng-show="!detachedNodes.length || detachedNodes.length === 0">
                <td colspan="100%">
                    No detached nodes were discovered.
                </td>
            </tr>
        </tbody>
    </table>
</div>
