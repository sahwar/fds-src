<div class="view-volume-screen" ng-controller="viewVolumeController" show-notify>

    <div class="page-vertical-spacer"></div>

    <div class="modal-header">
        <span translate>volumes.view.l_volume_details</span>
    </div>

    <section class="block-section">
        <div class="section-header">
            <span class="header" translate>volumes.l_volume_name</span>
        </div>
        
        <div class="main-value volume-name">{{thisVolume.name}}</div>
    </section>
    
    <!-- The capacity charting -->
    <section class="block-section">
        
        <div class="flex" style="width: 100%;height: 200px;">
        
            <div style="flex-grow: 5;">
                <status-tile tile-title="{{ 'status.l_capacity' | translate }}" calculated-data="capacityItems">
                    <line-chart data="capacityStats" colors="capacityColors" y-axis-label-function="capacityLabelFx" axis-color="#A0A0A0" line-stipples="capacityLineStipples" line-colors="capacityLineColors" tooltip="setCapacityTooltipText" background-color="#f7f7f7" domain-labels="capacityTimeChoice.labels"></line-chart>
                </status-tile>
            </div>
            
            <div class="gutter">
                <div>
                    <fui-dropdown selected="capacityTimeChoice" items="timeRanges" background="none" color="black" name-property="displayName" width="150px" border="gray" skinny="true"></fui-dropdown>
                </div>
                
                <div class="bottom-stack">
                    <div class="flex">
                        <div class="legend-box dotted" ng-style="{ 'border-color': capacityLineColors[0], 'background-color': capacityColors[0] }"></div>
                        <div class="legend-data">{{ dedupLabel }}</div>
                    </div>
                    <div class="flex">
                        <div class="legend-box" ng-style="{ 'border-color': capacityLineColors[1], 'background-color': capacityColors[1] }"></div>
                        <div class="legend-data">{{ physicalLabel }}</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- the IOPs chart -->
    <section class="block-section">
        
        <div class="flex" style="width: 100%;height: 200px;">
            <div style="flex-grow: 5;">
                <status-tile tile-title="{{ 'status.l_performance' | translate }}" calculated-data="performanceItems">
                    <line-chart data="performanceStats" colors="performanceColors" suffix="IOPs" axis-color="#A0A0A0" background-color="#f7f7f7" domain-labels="performanceTimeChoice.labels" line-colors="performanceLine"></line-chart>
                </status-tile>
            </div>
            <div class="gutter" style="position: relative;">
                <div>
                    <fui-dropdown selected="performanceTimeChoice" items="timeRanges" background="none" color="black" name-property="displayName" width="150px" border="gray" skinny="true"></fui-dropdown>
                </div>
                <div class="bottom-stack">
                    <div class="flex">
                        <div class="legend-box" ng-style="{ 'border-color': gray, 'background-color': performanceColors[0] }"></div>
                        <div class="legend-data">{{ iopLabel }}</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section class="block-section">
        <connector-panel ng-model="dataConnector" editable="false"></connector-panel>
    </section>
    
<!--
    <section class="block-section">
        <snapshot-policy-panel ng-model="snapshotPolicies"></snapshot-policy-panel>
    </section>
-->
<!--
    <section class="block-section">
        <tiering-panel ng-model="mediaPolicy"></tiering-policy-panel>
    </section>
-->
    
    <section class="block-section">
        <qos-panel ng-model="qos" save-only="false"></qos-panel>
    </section>
    
    <section class="block-section">
        <timeline-policy-panel ng-model="timelinePolicies" save-only="false"></timeline-policy-panel>
    </section>
    
    <section>
        <div class="flex">
            <span class="icon-delete delete delete-volume vertical-middle" ng-click="deleteVolume()"></span>
            <a class="delete" ng-click="deleteVolume()" translate>volumes.l_delete_volume</a>
        </div>
    </section>
    
<!--
    <section class="block-section">
        <div class="section-header">
            <span class="header" translate>volumes.l_snapshots</span>
        </div>
        
        <div class="flex">
            <div style="position: relative;width: 100%;">
                <table class="default">
                    <thead>
                        <tr>
                            <th translate>common.th_date</th>
                            <th translate>volumes.th_expiration</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="snapshot in snapshots" class="snapshot-row">
                            <td>{{formatDate( snapshot.creation );}}</td>
                            <td>{{snapshot.expiration}}</td>
                            <td>
                                <span class="fui-exit icon" title="Clone to new volume" ng-click="clone( snapshot )"></span>
                                <span class="fui-cross icon" title="Delete" ng-click="deleteSnapshot( snapshot )"></span>
                            </td>
                        </tr>
                        <tr ng-show="snapshots.length === 0">
                            <td colspan="3">
                                <div translate>volumes.snapshot.l_no_snapshots</div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="gutter"></div>
        </div>
    </section>
-->

    <div class="page-vertical-spacer view-volume-bottom-element"></div>
    
</div>
