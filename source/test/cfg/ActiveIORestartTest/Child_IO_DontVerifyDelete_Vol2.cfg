#
# Copyright 2015 Formation Data Systems, Inc.
#

# TEST DESCRIPTION
# This test is the ActiveIORestartTest's forked child that run
# I/O asynchronously to the parent process that is killing
# services.

[scenario_get_s3_token]
log_marker      = Get an S3 authorization token
script          = [testcases.TestOMIntFace.TestGetAuthToken]

[scenario_get_s3_connection]
log_marker      = Get an S3 connection
script          = [testcases.TestS3IntFace.TestS3GetConn]

[scenario_run_io]
log_marker      = Run some IO on a separate process for vol 2, AM1
script          = [testcases.TestS3IntFace.TestS3VerifiableObjectLoop]
param_names     = bucket,runTime,retry,verifyDelete
params          = volume2,120.0,false,false

[scenario_attach_vol2_to_am2]
log_marker      = Attach volume volume2 to AM2
script          = [volume2]
action          = attach
node            = node2

[scenario_run_io_am2]
log_marker      = Run some IO on a separate process for vol 2, AM 2
script          = [testcases.TestS3IntFace.TestS3VerifiableObjectLoop]
param_names     = bucket,runTime,retry,verifyDelete
params          = volume2,120.0,false,false
